<nz-page-header nzTitle="Describe product" [nzBackIcon]="manageType === ManageTypesEnum.Preview">
  <nz-page-header-title>Describe product</nz-page-header-title>
</nz-page-header>

<form nz-form [nzLayout]="'vertical'" [formGroup]="form.formGroup" (ngSubmit)="submitForm()">
  <div class="G-flex-align-center G-flex-wrap">
    <div class="G-flex G-w-100p G-flex-wrap">
      <div class="G-w-100p G-flex-justify-between">
        <div class="G-w-48p">
          <nz-form-item class="P-form-item G-min-w-150px G-mr-20px">
            <nz-form-label class="P-form-label" nzRequired>Company</nz-form-label>
            <nz-select nzPlaceHolder="Select a series" formControlName="companyId">
              <nz-option *ngFor="let company of companyList$ | async" [nzValue]="company.id"
                         [nzLabel]="company.name"></nz-option>
            </nz-select>
          </nz-form-item>

          <nz-form-item class="P-form-item G-min-w-150px G-mr-20px">
            <nz-form-label class="P-form-label" nzRequired nzFor="emailAddress">
              <span class="G-cursor">Email Address</span></nz-form-label>
            <nz-form-control>
              <input nz-input id="emailAddress" formControlName="emailAddress">
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="G-w-48p">
          <nz-form-item class="P-form-item G-min-w-150px G-mr-20px">
            <nz-form-label class="P-form-label" nzRequired>Role</nz-form-label>
            <nz-select nzPlaceHolder="Select a serie" formControlName="roleId">
              <nz-option *ngFor="let role of rolesList$ | async" [nzValue]="role.id"
                         [nzLabel]="role.name"></nz-option>
            </nz-select>
          </nz-form-item>

          <nz-form-item class="P-form-item G-min-w-150px">
            <nz-form-label class="P-form-label" nzRequired nzFor="fullName">
              <span class="G-cursor">Full Name</span>
            </nz-form-label>
            <nz-form-control>
              <input nz-input id="fullName" formControlName="fullName">
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div class="G-w-100p G-flex-justify-between">
        <div class="G-w-48p" *ngIf="!router.url.includes('preview')">
          <nz-form-item class="P-form-item G-min-w-150px G-mr-20px">
            <nz-form-label class="P-form-label" nzRequired nzFor="password">
              <span class="G-cursor">Password</span>
            </nz-form-label>
            <nz-form-control>
              <input nz-input id="password" formControlName="password">
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="G-w-48p">
          <nz-form-item class="P-form-item G-min-w-150px">
            <nz-form-label class="P-form-label" nzFor="phoneNumber"><span
              class="G-cursor">Phone Number</span></nz-form-label>
            <nz-form-control>
              <input nz-input id="phoneNumber" formControlName="phoneNumber">
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div class="G-w-100p G-flex-justify-between" *ngIf="!router.url.includes('preview')">
        <div class="G-w-48p">
          <nz-form-item class="P-form-item G-min-w-150px G-mr-20px">
            <nz-form-label class="P-form-label" nzRequired nzFor="confirmPassword">
              <span class="G-cursor">Confirm Password</span>
            </nz-form-label>
            <nz-form-control>
              <input nz-input id="confirmPassword" formControlName="confirmPassword">
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="G-w-48p">
          <nz-form-item class="P-form-item G-min-w-150px G-w-100p G-mr-20px">
            <nz-form-label class="P-form-label" nzRequired>Permissions</nz-form-label>
            <nz-select nzMode="multiple" nzPlaceHolder="Select a serie" formControlName="permissionIds">
              <nz-option
                *ngFor="let permission of permissionsList$ | async"
                [nzValue]="permission.id"
                [nzLabel]="permission.name">
              </nz-option>
            </nz-select>
          </nz-form-item>
        </div>
      </div>
    </div>
  </div>

  <div class="G-flex-justify-end" *ngIf="!router.url.includes('preview')">
    <button nz-button [routerLink]="['', 'users', 'users', 'list']">Cancel</button>
    <button nz-button [nzLoading]="(isCreatingUser$ | async)"
            [disabled]="form.formGroup.invalid || (isCreatingUser$ | async)" nzType="primary" class="G-ml-5px">
      {{ manageType === ManageTypesEnum.Add ? 'Add' : 'Edit' }}
    </button>
  </div>
</form>
